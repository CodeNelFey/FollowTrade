@tailwind base;
@tailwind components;
@tailwind utilities;

/* --- UTILITAIRES --- */
@layer utilities {
    .animation-delay-2000 { animation-delay: 2s; }
    .animation-delay-4000 { animation-delay: 4s; }

    /* Utility pour cacher la scrollbar (cross-browser) */
    .scrollbar-hide::-webkit-scrollbar {
        display: none;
    }
    .scrollbar-hide {
        -ms-overflow-style: none;
        scrollbar-width: none;
    }
}

/* --- ANIMATIONS --- */
@keyframes blob {
    0% { transform: translate(0px, 0px) scale(1); }
    33% { transform: translate(30px, -50px) scale(1.1); }
    66% { transform: translate(-20px, 20px) scale(0.9); }
    100% { transform: translate(0px, 0px) scale(1); }
}
.animate-blob { animation: blob 10s infinite; }

@keyframes grid-flow {
    0% { background-position: 0 0; }
    100% { background-position: 0 80px; }
}
.animate-grid-flow { animation: grid-flow 1s linear infinite; }

@keyframes twinkle {
    0%, 100% { opacity: 0.2; transform: scale(0.8); }
    50% { opacity: 1; transform: scale(1.2); }
}
.animate-twinkle { animation: twinkle 3s ease-in-out infinite; }

@keyframes float-candle {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-20px); }
}
.animate-float-candle { animation: float-candle 6s ease-in-out infinite; }

/* --- CONFIGURATION IOS & COULEURS --- */
:root {
    /* Valeur par défaut (changée dynamiquement par React dans App.jsx) */
    --bg-global: #000000;
}

html {
    /* C'est cette variable qui contrôle la couleur derrière la barre d'état */
    background-color: var(--bg-global);
    width: 100%;
    height: 100%;
    overscroll-behavior: none;

    /* Transition fluide lors du changement de thème (Dark/Light) */
    transition: background-color 0.3s ease-in-out;
}

body {
    margin: 0;
    padding: 0;
    width: 100%;
    height: 100%;
    background-color: var(--bg-global);
    overscroll-behavior: none;

    /* IMPORTANT : On supprime 'color: white' ici.
       La couleur du texte est gérée par Tailwind (text-gray-900 dark:text-white)
       dans les composants pour supporter le mode Clair. */

    /* Rendu de police plus net sur Mac/iOS */
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;

    transition: background-color 0.3s ease-in-out;
}

#root {
    height: 100%;
    width: 100%;
    /* Le root hérite aussi de la couleur pour éviter les trous blancs lors du chargement */
    background-color: var(--bg-global);
    overflow-x: hidden;
    transition: background-color 0.3s ease-in-out;
}